#define DEBUG

//See https://aka.ms/new-console-template for more information
using CChess;
using System;
using System.Diagnostics;
using System.Text.RegularExpressions;

#if DEBUG

string TimeString(TimeSpan ts) => "RunTime " + String.Format("{0:00}:{1:00}:{2:00}.{3:00}\n",
        ts.Hours, ts.Minutes, ts.Seconds, ts.Milliseconds / 10);

static void TestCoord()
{
    // Coord.ToString
    var allCoord = Coord.GetAllCoord();
    string expectCoordString = "(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】";
    string result = Utility.GetString(allCoord);
    Debug.Assert(expectCoordString == result);

    // Coord.Data
    string expectDataString = "0 1 2 3 4 5 6 7 8 16 17 18 19 20 21 22 23 24 32 33 34 35 36 37 38 39 40 48 49 50 51 52 53 54 55 56 64 65 66 67 68 69 70 71 72 80 81 82 83 84 85 86 87 88 96 97 98 99 100 101 102 103 104 112 113 114 115 116 117 118 119 120 128 129 130 131 132 133 134 135 136 144 145 146 147 148 149 150 151 152 【90】";
    List<ushort> allData = new();
    foreach(var coord in allCoord)
        allData.Add(coord.Data);
    result = Utility.GetString(allData, " ");
    Debug.Assert(expectDataString == result);

    List<Coord> dataCoords = new();
    foreach(var data in allData)
        dataCoords.Add(new(data));
    result = Utility.GetString(dataCoords);
    Debug.Assert(expectCoordString == result);

    // Coord.Iccs
    string expectIccsString = "a0 b0 c0 d0 e0 f0 g0 h0 i0 a1 b1 c1 d1 e1 f1 g1 h1 i1 a2 b2 c2 d2 e2 f2 g2 h2 i2 a3 b3 c3 d3 e3 f3 g3 h3 i3 a4 b4 c4 d4 e4 f4 g4 h4 i4 a5 b5 c5 d5 e5 f5 g5 h5 i5 a6 b6 c6 d6 e6 f6 g6 h6 i6 a7 b7 c7 d7 e7 f7 g7 h7 i7 a8 b8 c8 d8 e8 f8 g8 h8 i8 a9 b9 c9 d9 e9 f9 g9 h9 i9 【90】";
    List<string> allIccs = new();
    foreach(var coord in allCoord)
        allIccs.Add(coord.ICCS);
    result = Utility.GetString(allIccs, " ");
    Debug.Assert(expectIccsString == result);

    List<Coord> iccsCoords = new();
    foreach(var iccs in allIccs)
        iccsCoords.Add(new(iccs));
    result = Utility.GetString(iccsCoords);
    Debug.Assert(expectCoordString == result);

    // CoordComparer
    expectCoordString = "(9,8)(8,8)(7,8)(6,8)(5,8)(4,8)(3,8)(2,8)(1,8)(0,8)(9,7)(8,7)(7,7)(6,7)(5,7)(4,7)(3,7)(2,7)(1,7)(0,7)(9,6)(8,6)(7,6)(6,6)(5,6)(4,6)(3,6)(2,6)(1,6)(0,6)(9,5)(8,5)(7,5)(6,5)(5,5)(4,5)(3,5)(2,5)(1,5)(0,5)(9,4)(8,4)(7,4)(6,4)(5,4)(4,4)(3,4)(2,4)(1,4)(0,4)(9,3)(8,3)(7,3)(6,3)(5,3)(4,3)(3,3)(2,3)(1,3)(0,3)(9,2)(8,2)(7,2)(6,2)(5,2)(4,2)(3,2)(2,2)(1,2)(0,2)(9,1)(8,1)(7,1)(6,1)(5,1)(4,1)(3,1)(2,1)(1,1)(0,1)(9,0)(8,0)(7,0)(6,0)(5,0)(4,0)(3,0)(2,0)(1,0)(0,0)【90】";
    iccsCoords.Sort(new CoordComparer(true));
    result = Utility.GetString(iccsCoords);
    Debug.Assert(expectCoordString == result);
}

static void TestSeat()
{
    string expectString = "(0,0):无空_(-1,-1) (0,1):无空_(-1,-1) (0,2):无空_(-1,-1) (0,3):无空_(-1,-1) (0,4):无空_(-1,-1) (0,5):无空_(-1,-1) (0,6):无空_(-1,-1) (0,7):无空_(-1,-1) (0,8):无空_(-1,-1) (1,0):无空_(-1,-1) (1,1):无空_(-1,-1) (1,2):无空_(-1,-1) (1,3):无空_(-1,-1) (1,4):无空_(-1,-1) (1,5):无空_(-1,-1) (1,6):无空_(-1,-1) (1,7):无空_(-1,-1) (1,8):无空_(-1,-1) (2,0):无空_(-1,-1) (2,1):无空_(-1,-1) (2,2):无空_(-1,-1) (2,3):无空_(-1,-1) (2,4):无空_(-1,-1) (2,5):无空_(-1,-1) (2,6):无空_(-1,-1) (2,7):无空_(-1,-1) (2,8):无空_(-1,-1) (3,0):无空_(-1,-1) (3,1):无空_(-1,-1) (3,2):无空_(-1,-1) (3,3):无空_(-1,-1) (3,4):无空_(-1,-1) (3,5):无空_(-1,-1) (3,6):无空_(-1,-1) (3,7):无空_(-1,-1) (3,8):无空_(-1,-1) (4,0):无空_(-1,-1) (4,1):无空_(-1,-1) (4,2):无空_(-1,-1) (4,3):无空_(-1,-1) (4,4):无空_(-1,-1) (4,5):无空_(-1,-1) (4,6):无空_(-1,-1) (4,7):无空_(-1,-1) (4,8):无空_(-1,-1) (5,0):无空_(-1,-1) (5,1):无空_(-1,-1) (5,2):无空_(-1,-1) (5,3):无空_(-1,-1) (5,4):无空_(-1,-1) (5,5):无空_(-1,-1) (5,6):无空_(-1,-1) (5,7):无空_(-1,-1) (5,8):无空_(-1,-1) (6,0):无空_(-1,-1) (6,1):无空_(-1,-1) (6,2):无空_(-1,-1) (6,3):无空_(-1,-1) (6,4):无空_(-1,-1) (6,5):无空_(-1,-1) (6,6):无空_(-1,-1) (6,7):无空_(-1,-1) (6,8):无空_(-1,-1) (7,0):无空_(-1,-1) (7,1):无空_(-1,-1) (7,2):无空_(-1,-1) (7,3):无空_(-1,-1) (7,4):无空_(-1,-1) (7,5):无空_(-1,-1) (7,6):无空_(-1,-1) (7,7):无空_(-1,-1) (7,8):无空_(-1,-1) (8,0):无空_(-1,-1) (8,1):无空_(-1,-1) (8,2):无空_(-1,-1) (8,3):无空_(-1,-1) (8,4):无空_(-1,-1) (8,5):无空_(-1,-1) (8,6):无空_(-1,-1) (8,7):无空_(-1,-1) (8,8):无空_(-1,-1) (9,0):无空_(-1,-1) (9,1):无空_(-1,-1) (9,2):无空_(-1,-1) (9,3):无空_(-1,-1) (9,4):无空_(-1,-1) (9,5):无空_(-1,-1) (9,6):无空_(-1,-1) (9,7):无空_(-1,-1) (9,8):无空_(-1,-1) \n";

    string result = "";
    var seats = Seat.CreatSeats();
    foreach(var seat in seats)
        result += seat.ToString() + " ";
    result += "\n";

    Debug.Assert(expectString == result);
}

static void TestPiece()
{
    string expectString = "红帅K(-1,-1)\n红仕A(-1,-1)红仕A(-1,-1)\n红相B(-1,-1)红相B(-1,-1)\n红马N(-1,-1)红马N(-1,-1)\n红车R(-1,-1)红车R(-1,-1)\n红炮C(-1,-1)红炮C(-1,-1)\n红兵P(-1,-1)红兵P(-1,-1)红兵P(-1,-1)红兵P(-1,-1)红兵P(-1,-1)\n\n黑将k(-1,-1)\n黑士a(-1,-1)黑士a(-1,-1)\n黑象b(-1,-1)黑象b(-1,-1)\n黑Rn(-1,-1)黑Rn(-1,-1)\n黑r(-1,-1)黑r(-1,-1)\n黑hc(-1,-1)黑hc(-1,-1)\n黑卒p(-1,-1)黑卒p(-1,-1)黑卒p(-1,-1)黑卒p(-1,-1)黑卒p(-1,-1)\n\n";

    string result = "";
    var pieces = Piece.CreatPieces();
    foreach(var colorPieces in pieces)
    {
        foreach(var kindPieces in colorPieces)
        {
            foreach(var piece in kindPieces)
                result += piece.ToString();

            result += '\n';
        }

        result += '\n';
    }

    Debug.Assert(expectString == result);
}

static void TestBoard()
{
    static string PutCoordString(Board board)
    {
        string result = "";
        foreach(var color in new List<PieceColor> { PieceColor.Red, PieceColor.Black })
        {
            foreach(var piece in board.Pieces(color))
                result += piece.ToString() + " PutCoord: "
                    + Utility.GetString(piece.PutCoord(board.IsBottomColor(piece.Color))) + "\n";

            result += '\n';
        }

        return result;
    }

    Board board = new();
    string expectString = "红帅K(-1,-1) PutCoord: (0,3)(0,4)(0,5)(1,3)(1,4)(1,5)(2,3)(2,4)(2,5)【9】\n红仕A(-1,-1) PutCoord: (0,3)(0,5)(2,3)(2,5)(1,4)【5】\n红仕A(-1,-1) PutCoord: (0,3)(0,5)(2,3)(2,5)(1,4)【5】\n红相B(-1,-1) PutCoord: (0,2)(0,6)(4,2)(4,6)(2,0)(2,4)(2,8)【7】\n红相B(-1,-1) PutCoord: (0,2)(0,6)(4,2)(4,6)(2,0)(2,4)(2,8)【7】\n红马N(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红马N(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红车R(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红车R(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红炮C(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红炮C(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n\n黑将k(-1,-1) PutCoord: (7,3)(7,4)(7,5)(8,3)(8,4)(8,5)(9,3)(9,4)(9,5)【9】\n黑士a(-1,-1) PutCoord: (7,3)(7,5)(9,3)(9,5)(8,4)【5】\n黑士a(-1,-1) PutCoord: (7,3)(7,5)(9,3)(9,5)(8,4)【5】\n黑象b(-1,-1) PutCoord: (5,2)(5,6)(9,2)(9,6)(7,0)(7,4)(7,8)【7】\n黑象b(-1,-1) PutCoord: (5,2)(5,6)(9,2)(9,6)(7,0)(7,4)(7,8)【7】\n黑Rn(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑Rn(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑r(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑r(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑hc(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑hc(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n\n";
    string result = PutCoordString(board);
    Debug.Assert(expectString == result);

    string[] expectStrings = {
        "NoChange: \nrnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n━R━象━士━将━士━象━R━\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─h─┼─┼─┼─┼─┼─h─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n车━马━相━仕━帅━仕━相━马━车\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(0,4) CanMoveCoord: (1,4)【1】\n红仕A(0,3) CanMoveCoord: (1,4)【1】\n红仕A(0,5) CanMoveCoord: (1,4)【1】\n红相B(0,2) CanMoveCoord: (2,0)(2,4)【2】\n红相B(0,6) CanMoveCoord: (2,4)(2,8)【2】\n红马N(0,1) CanMoveCoord: (2,0)(2,2)【2】\n红马N(0,7) CanMoveCoord: (2,6)(2,8)【2】\n红车R(0,0) CanMoveCoord: (1,0)(2,0)【2】\n红车R(0,8) CanMoveCoord: (1,8)(2,8)【2】\n红炮C(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n红炮C(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n红兵P(3,0) CanMoveCoord: (4,0)【1】\n红兵P(3,2) CanMoveCoord: (4,2)【1】\n红兵P(3,4) CanMoveCoord: (4,4)【1】\n红兵P(3,6) CanMoveCoord: (4,6)【1】\n红兵P(3,8) CanMoveCoord: (4,8)【1】\n黑将k(9,4) CanMoveCoord: (8,4)【1】\n黑士a(9,3) CanMoveCoord: (8,4)【1】\n黑士a(9,5) CanMoveCoord: (8,4)【1】\n黑象b(9,2) CanMoveCoord: (7,0)(7,4)【2】\n黑象b(9,6) CanMoveCoord: (7,4)(7,8)【2】\n黑Rn(9,1) CanMoveCoord: (7,0)(7,2)【2】\n黑Rn(9,7) CanMoveCoord: (7,6)(7,8)【2】\n黑r(9,0) CanMoveCoord: (8,0)(7,0)【2】\n黑r(9,8) CanMoveCoord: (8,8)(7,8)【2】\n黑hc(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n黑hc(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n黑卒p(6,0) CanMoveCoord: (5,0)【1】\n黑卒p(6,2) CanMoveCoord: (5,2)【1】\n黑卒p(6,4) CanMoveCoord: (5,4)【1】\n黑卒p(6,6) CanMoveCoord: (5,6)【1】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n总计：【88】\nSymmetry_V: \nRNBAKABNR/9/1C5C1/P1P1P1P1P/9/9/p1p1p1p1p/1c5c1/9/rnbakabnr　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n车━马━相━仕━帅━仕━相━马━车\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─h─┼─┼─┼─┼─┼─h─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n━R━象━士━将━士━象━R━\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(9,4) CanMoveCoord: (8,4)【1】\n红仕A(9,3) CanMoveCoord: (8,4)【1】\n红仕A(9,5) CanMoveCoord: (8,4)【1】\n红相B(9,2) CanMoveCoord: (7,0)(7,4)【2】\n红相B(9,6) CanMoveCoord: (7,4)(7,8)【2】\n红马N(9,1) CanMoveCoord: (7,0)(7,2)【2】\n红马N(9,7) CanMoveCoord: (7,6)(7,8)【2】\n红车R(9,0) CanMoveCoord: (8,0)(7,0)【2】\n红车R(9,8) CanMoveCoord: (8,8)(7,8)【2】\n红炮C(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n红炮C(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n红兵P(6,0) CanMoveCoord: (5,0)【1】\n红兵P(6,2) CanMoveCoord: (5,2)【1】\n红兵P(6,4) CanMoveCoord: (5,4)【1】\n红兵P(6,6) CanMoveCoord: (5,6)【1】\n红兵P(6,8) CanMoveCoord: (5,8)【1】\n黑将k(0,4) CanMoveCoord: (1,4)【1】\n黑士a(0,3) CanMoveCoord: (1,4)【1】\n黑士a(0,5) CanMoveCoord: (1,4)【1】\n黑象b(0,2) CanMoveCoord: (2,0)(2,4)【2】\n黑象b(0,6) CanMoveCoord: (2,4)(2,8)【2】\n黑Rn(0,1) CanMoveCoord: (2,0)(2,2)【2】\n黑Rn(0,7) CanMoveCoord: (2,6)(2,8)【2】\n黑r(0,0) CanMoveCoord: (1,0)(2,0)【2】\n黑r(0,8) CanMoveCoord: (1,8)(2,8)【2】\n黑hc(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n黑hc(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n黑卒p(3,0) CanMoveCoord: (4,0)【1】\n黑卒p(3,2) CanMoveCoord: (4,2)【1】\n黑卒p(3,4) CanMoveCoord: (4,4)【1】\n黑卒p(3,6) CanMoveCoord: (4,6)【1】\n黑卒p(3,8) CanMoveCoord: (4,8)【1】\n总计：【88】\nRotate: \nrnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n━R━象━士━将━士━象━R━\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─h─┼─┼─┼─┼─┼─h─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n车━马━相━仕━帅━仕━相━马━车\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(0,4) CanMoveCoord: (1,4)【1】\n红仕A(0,3) CanMoveCoord: (1,4)【1】\n红仕A(0,5) CanMoveCoord: (1,4)【1】\n红相B(0,2) CanMoveCoord: (2,0)(2,4)【2】\n红相B(0,6) CanMoveCoord: (2,4)(2,8)【2】\n红马N(0,1) CanMoveCoord: (2,0)(2,2)【2】\n红马N(0,7) CanMoveCoord: (2,6)(2,8)【2】\n红车R(0,0) CanMoveCoord: (1,0)(2,0)【2】\n红车R(0,8) CanMoveCoord: (1,8)(2,8)【2】\n红炮C(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n红炮C(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n红兵P(3,0) CanMoveCoord: (4,0)【1】\n红兵P(3,2) CanMoveCoord: (4,2)【1】\n红兵P(3,4) CanMoveCoord: (4,4)【1】\n红兵P(3,6) CanMoveCoord: (4,6)【1】\n红兵P(3,8) CanMoveCoord: (4,8)【1】\n黑将k(9,4) CanMoveCoord: (8,4)【1】\n黑士a(9,3) CanMoveCoord: (8,4)【1】\n黑士a(9,5) CanMoveCoord: (8,4)【1】\n黑象b(9,2) CanMoveCoord: (7,0)(7,4)【2】\n黑象b(9,6) CanMoveCoord: (7,4)(7,8)【2】\n黑Rn(9,1) CanMoveCoord: (7,0)(7,2)【2】\n黑Rn(9,7) CanMoveCoord: (7,6)(7,8)【2】\n黑r(9,0) CanMoveCoord: (8,0)(7,0)【2】\n黑r(9,8) CanMoveCoord: (8,8)(7,8)【2】\n黑hc(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n黑hc(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n黑卒p(6,0) CanMoveCoord: (5,0)【1】\n黑卒p(6,2) CanMoveCoord: (5,2)【1】\n黑卒p(6,4) CanMoveCoord: (5,4)【1】\n黑卒p(6,6) CanMoveCoord: (5,6)【1】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n总计：【88】\nSymmetry_H: \nrnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n━R━象━士━将━士━象━R━\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─h─┼─┼─┼─┼─┼─h─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n车━马━相━仕━帅━仕━相━马━车\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(0,4) CanMoveCoord: (1,4)【1】\n红仕A(0,3) CanMoveCoord: (1,4)【1】\n红仕A(0,5) CanMoveCoord: (1,4)【1】\n红相B(0,2) CanMoveCoord: (2,0)(2,4)【2】\n红相B(0,6) CanMoveCoord: (2,4)(2,8)【2】\n红马N(0,1) CanMoveCoord: (2,0)(2,2)【2】\n红马N(0,7) CanMoveCoord: (2,6)(2,8)【2】\n红车R(0,0) CanMoveCoord: (1,0)(2,0)【2】\n红车R(0,8) CanMoveCoord: (1,8)(2,8)【2】\n红炮C(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n红炮C(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n红兵P(3,0) CanMoveCoord: (4,0)【1】\n红兵P(3,2) CanMoveCoord: (4,2)【1】\n红兵P(3,4) CanMoveCoord: (4,4)【1】\n红兵P(3,6) CanMoveCoord: (4,6)【1】\n红兵P(3,8) CanMoveCoord: (4,8)【1】\n黑将k(9,4) CanMoveCoord: (8,4)【1】\n黑士a(9,3) CanMoveCoord: (8,4)【1】\n黑士a(9,5) CanMoveCoord: (8,4)【1】\n黑象b(9,2) CanMoveCoord: (7,0)(7,4)【2】\n黑象b(9,6) CanMoveCoord: (7,4)(7,8)【2】\n黑Rn(9,1) CanMoveCoord: (7,0)(7,2)【2】\n黑Rn(9,7) CanMoveCoord: (7,6)(7,8)【2】\n黑r(9,0) CanMoveCoord: (8,0)(7,0)【2】\n黑r(9,8) CanMoveCoord: (8,8)(7,8)【2】\n黑hc(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n黑hc(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n黑卒p(6,0) CanMoveCoord: (5,0)【1】\n黑卒p(6,2) CanMoveCoord: (5,2)【1】\n黑卒p(6,4) CanMoveCoord: (5,4)【1】\n黑卒p(6,6) CanMoveCoord: (5,6)【1】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n总计：【88】\nExchange: \nRNBAKABNR/9/1C5C1/P1P1P1P1P/9/9/p1p1p1p1p/1c5c1/9/rnbakabnr　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n车━马━相━仕━帅━仕━相━马━车\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─h─┼─┼─┼─┼─┼─h─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n━R━象━士━将━士━象━R━\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(9,4) CanMoveCoord: (8,4)【1】\n红仕A(9,3) CanMoveCoord: (8,4)【1】\n红仕A(9,5) CanMoveCoord: (8,4)【1】\n红相B(9,2) CanMoveCoord: (7,0)(7,4)【2】\n红相B(9,6) CanMoveCoord: (7,4)(7,8)【2】\n红马N(9,1) CanMoveCoord: (7,0)(7,2)【2】\n红马N(9,7) CanMoveCoord: (7,6)(7,8)【2】\n红车R(9,0) CanMoveCoord: (8,0)(7,0)【2】\n红车R(9,8) CanMoveCoord: (8,8)(7,8)【2】\n红炮C(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n红炮C(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n红兵P(6,0) CanMoveCoord: (5,0)【1】\n红兵P(6,2) CanMoveCoord: (5,2)【1】\n红兵P(6,4) CanMoveCoord: (5,4)【1】\n红兵P(6,6) CanMoveCoord: (5,6)【1】\n红兵P(6,8) CanMoveCoord: (5,8)【1】\n黑将k(0,4) CanMoveCoord: (1,4)【1】\n黑士a(0,3) CanMoveCoord: (1,4)【1】\n黑士a(0,5) CanMoveCoord: (1,4)【1】\n黑象b(0,2) CanMoveCoord: (2,0)(2,4)【2】\n黑象b(0,6) CanMoveCoord: (2,4)(2,8)【2】\n黑Rn(0,1) CanMoveCoord: (2,0)(2,2)【2】\n黑Rn(0,7) CanMoveCoord: (2,6)(2,8)【2】\n黑r(0,0) CanMoveCoord: (1,0)(2,0)【2】\n黑r(0,8) CanMoveCoord: (1,8)(2,8)【2】\n黑hc(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n黑hc(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n黑卒p(3,0) CanMoveCoord: (4,0)【1】\n黑卒p(3,2) CanMoveCoord: (4,2)【1】\n黑卒p(3,4) CanMoveCoord: (4,4)【1】\n黑卒p(3,6) CanMoveCoord: (4,6)【1】\n黑卒p(3,8) CanMoveCoord: (4,8)【1】\n总计：【88】\n",
        "NoChange: \n5a3/4ak2r/6R2/8p/9/9/9/B4N2B/4K4/3c5　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━士━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─士─将─┼─┼─\n┃　│　│　│u│v│　│　│　┃\n┠─p─┼─┼─┼─┼─车─p─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n相─p─┼─┼─┼─马─┼─p─相\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━h━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(2,4)(0,4)【4】\n红相B(2,0) CanMoveCoord: (4,2)(0,2)【2】\n红相B(2,8) CanMoveCoord: (4,6)(0,6)【2】\n红马N(2,5) CanMoveCoord: (0,4)(0,6)(1,3)(1,7)(3,3)(3,7)(4,4)(4,6)【8】\n红车R(7,6) CanMoveCoord: (6,6)(5,6)(4,6)(3,6)(2,6)(1,6)(0,6)(8,6)(9,6)(7,5)(7,4)(7,3)(7,2)(7,1)(7,0)(7,7)(7,8)【17】\n黑将k(8,5) CanMoveCoord: 【0】\n黑士a(8,4) CanMoveCoord: (7,3)(7,5)(9,3)【3】\n黑士a(9,5) CanMoveCoord: 【0】\n黑r(8,8) CanMoveCoord: (7,8)(9,8)(8,7)(8,6)【4】\n黑hc(0,3) CanMoveCoord: (1,3)(2,3)(3,3)(4,3)(5,3)(6,3)(7,3)(8,3)(9,3)(0,2)(0,1)(0,0)(0,4)(0,5)(0,6)(0,7)(0,8)【17】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n总计：【58】\nSymmetry_V: \n3c5/4K4/B4N2B/9/9/9/8p/6R2/4ak2r/5a3　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n┏━┯━┯━h━┯━┯━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n相─p─┼─┼─┼─马─┼─p─相\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─p─┼─┼─┼─┼─车─p─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─士─将─┼─┼─\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━┷━┷━士━┷━┷━┛\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(8,4) CanMoveCoord: (8,3)(8,5)(9,4)(7,4)【4】\n红相B(7,0) CanMoveCoord: (9,2)(5,2)【2】\n红相B(7,8) CanMoveCoord: (9,6)(5,6)【2】\n红马N(7,5) CanMoveCoord: (5,4)(5,6)(6,3)(6,7)(8,3)(8,7)(9,4)(9,6)【8】\n红车R(2,6) CanMoveCoord: (1,6)(0,6)(3,6)(4,6)(5,6)(6,6)(7,6)(8,6)(9,6)(2,5)(2,4)(2,3)(2,2)(2,1)(2,0)(2,7)(2,8)【17】\n黑将k(1,5) CanMoveCoord: 【0】\n黑士a(0,5) CanMoveCoord: 【0】\n黑士a(1,4) CanMoveCoord: (0,3)(2,3)(2,5)【3】\n黑r(1,8) CanMoveCoord: (0,8)(2,8)(1,7)(1,6)【4】\n黑hc(9,3) CanMoveCoord: (8,3)(7,3)(6,3)(5,3)(4,3)(3,3)(2,3)(1,3)(0,3)(9,2)(9,1)(9,0)(9,4)(9,5)(9,6)(9,7)(9,8)【17】\n黑卒p(3,8) CanMoveCoord: (4,8)【1】\n总计：【58】\nRotate: \n3a5/r2ka4/2R6/p8/9/9/9/B2N4B/4K4/5c3　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━士━┯━┯━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n─┼─┼─将─士─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─p─车─┼─┼─┼─┼─p─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n相─p─┼─马─┼─┼─┼─p─相\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━┷━┷━h━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(2,4)(0,4)【4】\n红相B(2,0) CanMoveCoord: (4,2)(0,2)【2】\n红相B(2,8) CanMoveCoord: (4,6)(0,6)【2】\n红马N(2,3) CanMoveCoord: (0,2)(0,4)(1,1)(1,5)(3,1)(3,5)(4,2)(4,4)【8】\n红车R(7,2) CanMoveCoord: (6,2)(5,2)(4,2)(3,2)(2,2)(1,2)(0,2)(8,2)(9,2)(7,1)(7,0)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)【17】\n黑将k(8,3) CanMoveCoord: 【0】\n黑士a(8,4) CanMoveCoord: (7,3)(7,5)(9,5)【3】\n黑士a(9,3) CanMoveCoord: 【0】\n黑r(8,0) CanMoveCoord: (7,0)(9,0)(8,1)(8,2)【4】\n黑hc(0,5) CanMoveCoord: (1,5)(2,5)(3,5)(4,5)(5,5)(6,5)(7,5)(8,5)(9,5)(0,4)(0,3)(0,2)(0,1)(0,0)(0,6)(0,7)(0,8)【17】\n黑卒p(6,0) CanMoveCoord: (5,0)【1】\n总计：【58】\nSymmetry_H: \n5a3/4ak2r/6R2/8p/9/9/9/B4N2B/4K4/3c5　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━士━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─士─将─┼─┼─\n┃　│　│　│u│v│　│　│　┃\n┠─p─┼─┼─┼─┼─车─p─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n相─p─┼─┼─┼─马─┼─p─相\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━h━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(2,4)(0,4)【4】\n红相B(2,0) CanMoveCoord: (4,2)(0,2)【2】\n红相B(2,8) CanMoveCoord: (4,6)(0,6)【2】\n红马N(2,5) CanMoveCoord: (0,4)(0,6)(1,3)(1,7)(3,3)(3,7)(4,4)(4,6)【8】\n红车R(7,6) CanMoveCoord: (6,6)(5,6)(4,6)(3,6)(2,6)(1,6)(0,6)(8,6)(9,6)(7,5)(7,4)(7,3)(7,2)(7,1)(7,0)(7,7)(7,8)【17】\n黑将k(8,5) CanMoveCoord: 【0】\n黑士a(8,4) CanMoveCoord: (7,3)(7,5)(9,3)【3】\n黑士a(9,5) CanMoveCoord: 【0】\n黑r(8,8) CanMoveCoord: (7,8)(9,8)(8,7)(8,6)【4】\n黑hc(0,3) CanMoveCoord: (1,3)(2,3)(3,3)(4,3)(5,3)(6,3)(7,3)(8,3)(9,3)(0,2)(0,1)(0,0)(0,4)(0,5)(0,6)(0,7)(0,8)【17】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n总计：【58】\nExchange: \n5A3/4AK2R/6r2/8P/9/9/9/b4n2b/4k4/3C5　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n┏━┯━┯━┯━┯━仕━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─仕─帅─┼─┼─车\n┃　│　│　│u│v│　│　│　┃\n┠─p─┼─┼─┼─┼──p─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n象─p─┼─┼─┼─R─┼─p─象\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─将─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━炮━┷━┷━┷━┷━┛\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(8,5) CanMoveCoord: 【0】\n红仕A(8,4) CanMoveCoord: (7,3)(7,5)(9,3)【3】\n红仕A(9,5) CanMoveCoord: 【0】\n红车R(8,8) CanMoveCoord: (7,8)(9,8)(8,7)(8,6)【4】\n红炮C(0,3) CanMoveCoord: (1,3)(2,3)(3,3)(4,3)(5,3)(6,3)(7,3)(8,3)(9,3)(0,2)(0,1)(0,0)(0,4)(0,5)(0,6)(0,7)(0,8)【17】\n红兵P(6,8) CanMoveCoord: (5,8)【1】\n黑将k(1,4) CanMoveCoord: (1,3)(1,5)(2,4)(0,4)【4】\n黑象b(2,0) CanMoveCoord: (4,2)(0,2)【2】\n黑象b(2,8) CanMoveCoord: (4,6)(0,6)【2】\n黑Rn(2,5) CanMoveCoord: (0,4)(0,6)(1,3)(1,7)(3,3)(3,7)(4,4)(4,6)【8】\n黑r(7,6) CanMoveCoord: (6,6)(5,6)(4,6)(3,6)(2,6)(1,6)(0,6)(8,6)(9,6)(7,5)(7,4)(7,3)(7,2)(7,1)(7,0)(7,7)(7,8)【17】\n总计：【58】\n",
        "NoChange: \n5k3/9/9/9/9/9/4rp3/2R1C4/4K4/9　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━将━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─p─┼─┼─┼─┼─┼─p─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼──卒─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─p─车─┼─炮─┼─┼─p─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━┷━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(0,4)【3】\n红车R(2,2) CanMoveCoord: (1,2)(0,2)(3,2)(4,2)(5,2)(6,2)(7,2)(8,2)(9,2)(2,1)(2,0)(2,3)【12】\n红炮C(2,4) CanMoveCoord: 【0】\n黑将k(9,5) CanMoveCoord: (8,5)【1】\n黑r(3,4) CanMoveCoord: (2,4)(4,4)(5,4)(6,4)(7,4)(8,4)(9,4)(3,3)(3,2)(3,1)(3,0)【11】\n黑卒p(3,5) CanMoveCoord: (3,6)(2,5)【2】\n总计：【29】\nSymmetry_V: \n9/4K4/2R1C4/4rp3/9/9/9/9/9/5k3　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n┏━┯━┯━┯━┯━┯━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─p─车─┼─炮─┼─┼─p─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼──卒─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─p─┼─┼─┼─┼─┼─p─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━┷━┷━将━┷━┷━┛\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(8,4) CanMoveCoord: (8,3)(8,5)(9,4)【3】\n红车R(7,2) CanMoveCoord: (6,2)(5,2)(4,2)(3,2)(2,2)(1,2)(0,2)(8,2)(9,2)(7,1)(7,0)(7,3)【12】\n红炮C(7,4) CanMoveCoord: 【0】\n黑将k(0,5) CanMoveCoord: (1,5)【1】\n黑r(6,4) CanMoveCoord: (5,4)(4,4)(3,4)(2,4)(1,4)(0,4)(7,4)(6,3)(6,2)(6,1)(6,0)【11】\n黑卒p(6,5) CanMoveCoord: (6,6)(7,5)【2】\n总计：【29】\nRotate: \n3k5/9/9/9/9/9/3pr4/4C1R2/4K4/9　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━将━┯━┯━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─p─┼─┼─┼─┼─┼─p─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─卒──┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─p─┼─┼─炮─┼─车─p─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━┷━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(0,4)【3】\n红车R(2,6) CanMoveCoord: (1,6)(0,6)(3,6)(4,6)(5,6)(6,6)(7,6)(8,6)(9,6)(2,5)(2,7)(2,8)【12】\n红炮C(2,4) CanMoveCoord: 【0】\n黑将k(9,3) CanMoveCoord: (8,3)【1】\n黑r(3,4) CanMoveCoord: (2,4)(4,4)(5,4)(6,4)(7,4)(8,4)(9,4)(3,5)(3,6)(3,7)(3,8)【11】\n黑卒p(3,3) CanMoveCoord: (3,2)(2,3)【2】\n总计：【29】\nSymmetry_H: \n5k3/9/9/9/9/9/4rp3/2R1C4/4K4/9　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━将━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─p─┼─┼─┼─┼─┼─p─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼──卒─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─p─车─┼─炮─┼─┼─p─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━┷━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(0,4)【3】\n红车R(2,2) CanMoveCoord: (1,2)(0,2)(3,2)(4,2)(5,2)(6,2)(7,2)(8,2)(9,2)(2,1)(2,0)(2,3)【12】\n红炮C(2,4) CanMoveCoord: 【0】\n黑将k(9,5) CanMoveCoord: (8,5)【1】\n黑r(3,4) CanMoveCoord: (2,4)(4,4)(5,4)(6,4)(7,4)(8,4)(9,4)(3,3)(3,2)(3,1)(3,0)【11】\n黑卒p(3,5) CanMoveCoord: (3,6)(2,5)【2】\n总计：【29】\nExchange: \n5K3/9/9/9/9/9/4RP3/2r1c4/4k4/9　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n┏━┯━┯━┯━┯━帅━┯━┯━┓\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─w─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┠─p─┼─┼─┼─┼─┼─p─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─p─┼─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─p─┼─车─兵─p─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─p──┼─h─┼─┼─p─┨\n┃　│　│　│v│u│　│　│　┃\n┠─┼─┼─┼─将─┼─┼─┼─┨\n┃　│　│　│u│v│　│　│　┃\n┗━┷━┷━┷━┷━┷━┷━┷━┛\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(9,5) CanMoveCoord: (8,5)【1】\n红车R(3,4) CanMoveCoord: (2,4)(4,4)(5,4)(6,4)(7,4)(8,4)(9,4)(3,3)(3,2)(3,1)(3,0)【11】\n红兵P(3,5) CanMoveCoord: (3,6)(2,5)【2】\n黑将k(1,4) CanMoveCoord: (1,3)(1,5)(0,4)【3】\n黑r(2,2) CanMoveCoord: (1,2)(0,2)(3,2)(4,2)(5,2)(6,2)(7,2)(8,2)(9,2)(2,1)(2,0)(2,3)【12】\n黑hc(2,4) CanMoveCoord: 【0】\n总计：【29】\n" };
    string[] fens = {
        "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR",
        "5a3/4ak2r/6R2/8p/9/9/9/B4N2B/4K4/3c5",
        "5k3/9/9/9/9/9/4rp3/2R1C4/4K4/9",
    };

    static string CanMoveCoordString(Board board)
    {
        string result = "";
        int total = 0;
        foreach(var color in new List<PieceColor> { PieceColor.Red, PieceColor.Black })
        {
            foreach(var piece in board.LivePieces(color))
            {
                result += piece.ToString() + " CanMoveCoord: ";
                var coords = board.CanMoveCoord(piece.Coord);
                foreach(var coord in coords)
                    result += coord.ToString();

                result += String.Format($"【{coords.Count}】\n");
                total += coords.Count;
            }
        }

        return result + String.Format($"总计：【{total}】\n", total);
    }
    int index = 0;
    foreach(string fen in fens)
    {
        board.SetFEN(fen);
        List<ChangeType> cts = new() {
            ChangeType.NoChange, ChangeType.Symmetry_V,
            ChangeType.Rotate, ChangeType.Symmetry_H, ChangeType.Exchange,
        };

        result = "";
        foreach(var ct in cts)
        {
            board.ChangeLayout(ct);
            result += string.Format($"{ct}: \n{board.GetFEN()}");
            result += board.ToString();
            result += CanMoveCoordString(board);
        }
        Debug.Assert(expectStrings[index++] == result);
    }
}

const string output = @"C:\program1\gitee\cchess_cs\cchess_con\output\";

List<string> fileNames = new(){
        "01",
        "4四量拨千斤",
        "第09局",
        "布局陷阱--飞相局对金钩炮",
        "- 北京张强 (和) 上海胡荣华 (1993.4.27于南京)",

        //"中炮对屏风马",
        //"中炮【马8进7】",
        //"黑用开局库",
        //"仙人指路全集（史上最全最新版）",
        //"飞相局【卒7进1】",
        //"中炮【马2进3】"
    };
string[] extName = { ".xqf", ".cm", ".pgn" };

void TestManual()
{
    string path = output + @"TestManual.txt";

    Stopwatch stopWatch = new();
    stopWatch.Restart();

    int fromExtIndex = 1, toExtIndex = 2; // 0,1,2
    using StreamWriter sw = File.CreateText(path);
    foreach(string fileName in fileNames)
    {
        string theFileName = output + fileName;
        string fromFileName = theFileName + extName[fromExtIndex];
        string toFileName = theFileName + (fromExtIndex != toExtIndex ? "" : "-副本") + extName[toExtIndex];

        Manual manual = new(fromFileName);
        manual.Write(toFileName);
        sw.Write(fromFileName[(fromFileName.LastIndexOf('\\') + 1)..] + " => "
            + toFileName[(toFileName.LastIndexOf('\\') + 1)..] + "\n"
            + manual.ToString(true, true)); // true, true

        //foreach(var aspect in manual.GetAspects()) sw.WriteLine("aspect: " + aspect.ToString());
    }

    stopWatch.Stop();
    sw.WriteLine(TimeString(stopWatch.Elapsed));
}

void TestAspect()
{
    string path = output + @"TestAspect.txt";

    Stopwatch stopWatch = new();
    stopWatch.Restart();

    using StreamWriter sw = File.CreateText(path);
    Aspects aspects = new();
    foreach(string fileName in fileNames)
    {
        aspects.Add(output + fileName + extName[1]);
    }
    //sw.Write(aspects.ToString());

    string spFileName = output + @"Aspects.sp";
    aspects.Write(spFileName);

    Aspects aspects1 = new(spFileName);
    sw.Write(aspects1.ToString());


    stopWatch.Stop();
    sw.WriteLine(TimeString(stopWatch.Elapsed));
}

TestCoord();
TestSeat();
TestPiece();

TestBoard();
TestManual();
TestAspect();


#endif